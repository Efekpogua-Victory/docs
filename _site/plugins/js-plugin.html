<!DOCTYPE html>

<html lang="en-US">
    <head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">
  

  
    <title>JS Plugin | Swup</title>
  
  <link rel="stylesheet" href="http://localhost:4000/assets/css/just-the-docs.css">

  
    <script>
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', 'UA-65615068-6', 'http://localhost:4000');
      ga('send', 'pageview');
    </script>
    <script async src="https://www.google-analytics.com/analytics.js"></script>
  

  
    <script type="text/javascript" src="http://localhost:4000/assets/js/vendor/lunr.min.js"></script>
  
  <script type="text/javascript" src="http://localhost:4000/assets/js/just-the-docs.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <script async defer rel="prefetch" src="https://buttons.github.io/buttons.js"></script>
  <!-- Begin Jekyll SEO tag v2.6.0 -->
<title>JS Plugin | Swup</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="JS Plugin" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Complete, flexible, extensible and easy to use page transition library." />
<meta property="og:description" content="Complete, flexible, extensible and easy to use page transition library." />
<link rel="canonical" href="http://localhost:4000/plugins/js-plugin" />
<meta property="og:url" content="http://localhost:4000/plugins/js-plugin" />
<meta property="og:site_name" content="Swup" />
<script type="application/ld+json">
{"@type":"WebPage","url":"http://localhost:4000/plugins/js-plugin","description":"Complete, flexible, extensible and easy to use page transition library.","headline":"JS Plugin","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

    <body>
        <div class="page-wrap">
            <div class="side-bar">
                <a href="http://localhost:4000" class="site-title fs-6 lh-tight">
                    <img src="/assets/swup-logo.svg" alt="Swup"/>
                </a>
                <span class="fs-3"><button class="js-main-nav-trigger navigation-list-toggle btn btn-outline" type="button" data-text-toggle="Hide">Menu</button></span>
                <div class="navigation main-nav js-main-nav">
                    <nav role="navigation" aria-label="Main navigation">
  <ul class="navigation-list">
    
    
      
    
      
    
      
        
      
    
      
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="http://localhost:4000/getting-started" class="navigation-list-link">Getting Started</a>
            
              
              <ul class="navigation-list-child-list ">
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="http://localhost:4000/getting-started/how-it-works" class="navigation-list-link">How it works</a>
                      
                    </li>
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="http://localhost:4000/getting-started/installation" class="navigation-list-link">Installation</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="http://localhost:4000/getting-started/example" class="navigation-list-link">Example</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="http://localhost:4000/getting-started/demo" class="navigation-list-link">Demo</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="http://localhost:4000/getting-started/good-to-know" class="navigation-list-link">Good to Know</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
              </ul>
            
          </li>
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="http://localhost:4000/options" class="navigation-list-link">Options</a>
            
              
              <ul class="navigation-list-child-list ">
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
              </ul>
            
          </li>
        
      
    
      
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="http://localhost:4000/events" class="navigation-list-link">Events</a>
            
              
              <ul class="navigation-list-child-list ">
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
              </ul>
            
          </li>
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="http://localhost:4000/plugins" class="navigation-list-link">Plugins</a>
            
              
              <ul class="navigation-list-child-list ">
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="http://localhost:4000/plugins/debug-plugin" class="navigation-list-link">Debug Plugin</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="http://localhost:4000/plugins/forms-plugin" class="navigation-list-link">Forms Plugin</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="http://localhost:4000/plugins/scroll-plugin" class="navigation-list-link">Scroll Plugin</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="http://localhost:4000/plugins/preload-plugin" class="navigation-list-link">Preload Plugin</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item  active">
                      
                      <a href="http://localhost:4000/plugins/js-plugin" class="navigation-list-link active">JS Plugin</a>
                      
                    </li>
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="http://localhost:4000/plugins/google-analytics-plugin" class="navigation-list-link">GA Plugin</a>
                      
                    </li>
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="http://localhost:4000/plugins/google-tag-manager-plugin" class="navigation-list-link">GTM Plugin</a>
                      
                    </li>
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="http://localhost:4000/plugins/create-plugin" class="navigation-list-link">Create Plugin 🎉</a>
                      
                    </li>
                  
                
                  
                
              </ul>
            
          </li>
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="http://localhost:4000/themes" class="navigation-list-link">Themes</a>
            
              
              <ul class="navigation-list-child-list ">
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="http://localhost:4000/themes/create-theme" class="navigation-list-link">Create Theme 🎉</a>
                      
                    </li>
                  
                
              </ul>
            
          </li>
        
      
    
      
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="http://localhost:4000/api" class="navigation-list-link">API</a>
            
              
              <ul class="navigation-list-child-list ">
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="http://localhost:4000/api/variables" class="navigation-list-link">Variables</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="http://localhost:4000/api/methods" class="navigation-list-link">Methods</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="http://localhost:4000/api/cache" class="navigation-list-link">Cache</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="http://localhost:4000/api/helpers" class="navigation-list-link">Helpers</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
              </ul>
            
          </li>
        
      
    
      
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="http://localhost:4000/contributions" class="navigation-list-link">Contributions</a>
            
              
              <ul class="navigation-list-child-list ">
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
              </ul>
            
          </li>
        
      
    
      
        
      
    
      
        
      
    
  </ul>
</nav>

                </div>
            </div>
            <div class="main-content-wrap js-main-content" tabindex="0">
                <div class="page-header">
                    <label class="search-holder">
                        
                        <div class="search js-search">
                            <div class="search-input-wrap">
                                <input type="text" class="js-search-input search-input" tabindex="0" placeholder="Search Swup" aria-label="Search Swup" autocomplete="off">
                                <svg width="14" height="14" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" class="search-icon"><title>Search</title><g fill-rule="nonzero"><path d="M17.332 20.735c-5.537 0-10-4.6-10-10.247 0-5.646 4.463-10.247 10-10.247 5.536 0 10 4.601 10 10.247s-4.464 10.247-10 10.247zm0-4c3.3 0 6-2.783 6-6.247 0-3.463-2.7-6.247-6-6.247s-6 2.784-6 6.247c0 3.464 2.7 6.247 6 6.247z"/><path d="M11.672 13.791L.192 25.271 3.02 28.1 14.5 16.62z"/></g></svg>
                            </div>
                            <div class="js-search-results search-results-wrap"></div>
                        </div>
                        
                        
                        <ul class="list-style-none text-small mt-md-1 mb-md-1 pb-4 pb-md-0 js-aux-nav aux-nav">
                            <li class="d-inline-block my-0 mr-2">
                                <a class="github-button" href="https://github.com/gmrchk/swup" data-icon="octicon-star" data-show-count="true" data-size="medium" aria-label="Star gmrchk/swup on GitHub">Star</a>
                            </li>
                        </ul>
                        
                    </label>
                </div>
                <div class="main-content">
                    <div id="main-content" class="page-content" role="main">
                        <h1 id="swup-js-plugin-swupjs">Swup JS plugin (swupjs)</h1>

<p>Plugin modifies swup for use with JavaScript animations. Timing and animations are based on JavaScript, not CSS transitions.</p>

<p>Plugin provides the same functionality as currently deprecated <a href="https://github.com/swup/swupjs">swupjs</a> and serves as a replacement.</p>

<h2 id="instalation">Instalation</h2>
<p>This plugin can be installed with npm</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm <span class="nb">install</span> @swup/js-plugin
</code></pre></div></div>

<p>and included with import</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>import SwupJsPlugin from <span class="s1">'@swup/js-plugin'</span><span class="p">;</span>
</code></pre></div></div>

<p>or included from the dist folder</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"./dist/SwupJsPlugin.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre></div></div>

<h2 id="usage">Usage</h2>

<p>To run this plugin, include an instance in the swup options.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">swup</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Swup</span><span class="p">({</span>
  <span class="na">plugins</span><span class="p">:</span> <span class="p">[</span><span class="k">new</span> <span class="nx">SwupJsPlugin</span><span class="p">()]</span>
<span class="p">});</span>
</code></pre></div></div>

<h2 id="options">Options</h2>
<p>Plugin options is an object of animations.
The example below is the default setup and defines two animations,
where <em>out</em> property is the animation (function) being executed before content replace, and <em>in</em> is animation being executed after the content is replaced.</p>

<p>One parameter is passed into both functions.
Call of next function serves as an indicator, that animation is done - so in a real world <code class="highlighter-rouge">next()</code> would be called as a callback of the animation.
As you can see, by default no animation is being executed and next() is called right away.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'*'</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">out</span><span class="p">:</span> <span class="p">(</span><span class="nx">next</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">next</span><span class="p">(),</span>
    <span class="na">in</span><span class="p">:</span> <span class="p">(</span><span class="nx">next</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">next</span><span class="p">()</span>
  <span class="p">}</span>
<span class="p">};</span>
</code></pre></div></div>

<p>In the example below, next function is called after two seconds,
which means that swup would wait two seconds (or any time necessary for the load of the new page content),
before continuing to the content replace.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">...</span>
<span class="nx">out</span><span class="p">:</span> <span class="p">(</span><span class="nx">next</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">setTimeout</span><span class="p">(</span><span class="nx">next</span><span class="p">,</span> <span class="mi">2000</span><span class="p">);</span>
<span class="p">}</span>
<span class="p">...</span>
</code></pre></div></div>

<p>Basic usage with tools like GSAP would look something like the following:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'*'</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">in</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">next</span><span class="p">)</span> <span class="p">{</span>
      <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">'#swup'</span><span class="p">).</span><span class="nx">style</span><span class="p">.</span><span class="nx">opacity</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
      <span class="nx">TweenLite</span><span class="p">.</span><span class="nx">to</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">'#swup'</span><span class="p">),</span> <span class="mf">0.5</span><span class="p">,</span> <span class="p">{</span>
        <span class="na">opacity</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="na">onComplete</span><span class="p">:</span> <span class="nx">next</span>
      <span class="p">});</span>
    <span class="p">},</span>
    <span class="na">out</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">next</span><span class="p">)</span> <span class="p">{</span>
      <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">'#swup'</span><span class="p">).</span><span class="nx">style</span><span class="p">.</span><span class="nx">opacity</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
      <span class="nx">TweenLite</span><span class="p">.</span><span class="nx">to</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">'#swup'</span><span class="p">),</span> <span class="mf">0.5</span><span class="p">,</span> <span class="p">{</span>
        <span class="na">opacity</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="na">onComplete</span><span class="p">:</span> <span class="nx">next</span>
      <span class="p">});</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="kd">const</span> <span class="nx">swup</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Swup</span><span class="p">({</span>
  <span class="na">plugins</span><span class="p">:</span> <span class="p">[</span><span class="k">new</span> <span class="nx">SwupJsPlugin</span><span class="p">(</span><span class="nx">options</span><span class="p">)]</span>
<span class="p">});</span>
</code></pre></div></div>

<h2 id="choosing-the-animation">Choosing the animation</h2>
<p>As one may have noticed, the name of animation object in options is defined as <code class="highlighter-rouge">'*'</code>, which serves as a fallback or base set of animations used throughout the website.
Custom animations can be defined for a transition between any pages, where the name is defined by <code class="highlighter-rouge">[starting route]&gt;[final route]</code>.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">...</span>
<span class="s1">'homepage&gt;documentation'</span><span class="p">:</span> <span class="p">{</span>
    <span class="nl">out</span><span class="p">:</span> <span class="p">(</span><span class="nx">next</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">next</span><span class="p">(),</span>
    <span class="k">in</span><span class="p">:</span> <span class="p">(</span><span class="nx">next</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">next</span><span class="p">()</span>
<span class="p">}</span>
<span class="p">...</span>
</code></pre></div></div>

<p>The animation above would be executed for the transition between homepage (<strong>/</strong>) and documentation page (<strong>/documentation</strong>).
Notice that for the lack of route, keyword <strong>homepage</strong> is used.
Any of the two routes can also be defined by wildcard symbol (<code class="highlighter-rouge">homepage&gt;*</code> or <code class="highlighter-rouge">*&gt;documentation</code>).
The most fitting animation is always chosen.</p>

<h2 id="custom-animation-to-dynamic-pages">Custom animation to dynamic pages</h2>
<p>Similarly to swup default behaviour, where <code class="highlighter-rouge">data-swup-transition</code> attribute of the clicked link is used for assigning a special class to the html tag,
this plugin uses the same attribute for choosing custom animation.
In case the attribute is defined on clicked link, plugin also tests the animation object for the content of the data attribute.
So following attribute <code class="highlighter-rouge">data-swup-transition="post"</code> would end up in <code class="highlighter-rouge">*&gt;post</code> being executed.</p>


                        
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>