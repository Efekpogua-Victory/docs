<!DOCTYPE html>

<html lang="en-US">
    <head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">
  

  
    <title>GA Plugin | Swup</title>
  
  <link rel="stylesheet" href="http://localhost:4000/assets/css/just-the-docs.css">

  
    <script>
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', 'UA-65615068-6', 'http://localhost:4000');
      ga('send', 'pageview');
    </script>
    <script async src="https://www.google-analytics.com/analytics.js"></script>
  

  
    <script type="text/javascript" src="http://localhost:4000/assets/js/vendor/lunr.min.js"></script>
  
  <script type="text/javascript" src="http://localhost:4000/assets/js/just-the-docs.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <script async defer rel="prefetch" src="https://buttons.github.io/buttons.js"></script>
  <!-- Begin Jekyll SEO tag v2.6.0 -->
<title>GA Plugin | Swup</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="GA Plugin" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Complete, flexible, extensible and easy to use page transition library." />
<meta property="og:description" content="Complete, flexible, extensible and easy to use page transition library." />
<link rel="canonical" href="http://localhost:4000/plugins/google-analytics-plugin" />
<meta property="og:url" content="http://localhost:4000/plugins/google-analytics-plugin" />
<meta property="og:site_name" content="Swup" />
<script type="application/ld+json">
{"@type":"WebPage","url":"http://localhost:4000/plugins/google-analytics-plugin","description":"Complete, flexible, extensible and easy to use page transition library.","headline":"GA Plugin","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

    <body>
        <div class="page-wrap">
            <div class="side-bar">
                <a href="http://localhost:4000" class="site-title fs-6 lh-tight">
                    <img src="/assets/swup-logo.svg" alt="Swup"/>
                </a>
                <span class="fs-3"><button class="js-main-nav-trigger navigation-list-toggle btn btn-outline" type="button" data-text-toggle="Hide">Menu</button></span>
                <div class="navigation main-nav js-main-nav">
                    <nav role="navigation" aria-label="Main navigation">
  <ul class="navigation-list">
    
    
      
    
      
    
      
        
      
    
      
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="http://localhost:4000/getting-started" class="navigation-list-link">Getting Started</a>
            
              
              <ul class="navigation-list-child-list ">
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="http://localhost:4000/getting-started/how-it-works" class="navigation-list-link">How it works</a>
                      
                    </li>
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="http://localhost:4000/getting-started/installation" class="navigation-list-link">Installation</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="http://localhost:4000/getting-started/example" class="navigation-list-link">Example</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="http://localhost:4000/getting-started/demo" class="navigation-list-link">Demo</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="http://localhost:4000/getting-started/good-to-know" class="navigation-list-link">Good to Know</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
              </ul>
            
          </li>
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="http://localhost:4000/options" class="navigation-list-link">Options</a>
            
              
              <ul class="navigation-list-child-list ">
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
              </ul>
            
          </li>
        
      
    
      
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="http://localhost:4000/events" class="navigation-list-link">Events</a>
            
              
              <ul class="navigation-list-child-list ">
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
              </ul>
            
          </li>
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="http://localhost:4000/plugins" class="navigation-list-link">Plugins</a>
            
              
              <ul class="navigation-list-child-list ">
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="http://localhost:4000/plugins/debug-plugin" class="navigation-list-link">Debug Plugin</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="http://localhost:4000/plugins/forms-plugin" class="navigation-list-link">Forms Plugin</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="http://localhost:4000/plugins/scroll-plugin" class="navigation-list-link">Scroll Plugin</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="http://localhost:4000/plugins/preload-plugin" class="navigation-list-link">Preload Plugin</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="http://localhost:4000/plugins/js-plugin" class="navigation-list-link">JS Plugin</a>
                      
                    </li>
                  
                
                  
                
                  
                    <li class="navigation-list-item  active">
                      
                      <a href="http://localhost:4000/plugins/google-analytics-plugin" class="navigation-list-link active">GA Plugin</a>
                      
                    </li>
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="http://localhost:4000/plugins/google-tag-manager-plugin" class="navigation-list-link">GTM Plugin</a>
                      
                    </li>
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="http://localhost:4000/plugins/create-plugin" class="navigation-list-link">Create Plugin 🎉</a>
                      
                    </li>
                  
                
                  
                
              </ul>
            
          </li>
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="http://localhost:4000/themes" class="navigation-list-link">Themes</a>
            
              
              <ul class="navigation-list-child-list ">
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="http://localhost:4000/themes/create-theme" class="navigation-list-link">Create Theme 🎉</a>
                      
                    </li>
                  
                
              </ul>
            
          </li>
        
      
    
      
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="http://localhost:4000/api" class="navigation-list-link">API</a>
            
              
              <ul class="navigation-list-child-list ">
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="http://localhost:4000/api/variables" class="navigation-list-link">Variables</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="http://localhost:4000/api/methods" class="navigation-list-link">Methods</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="http://localhost:4000/api/cache" class="navigation-list-link">Cache</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="http://localhost:4000/api/helpers" class="navigation-list-link">Helpers</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
              </ul>
            
          </li>
        
      
    
      
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="http://localhost:4000/contributions" class="navigation-list-link">Contributions</a>
            
              
              <ul class="navigation-list-child-list ">
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
              </ul>
            
          </li>
        
      
    
      
        
      
    
      
        
      
    
  </ul>
</nav>

                </div>
            </div>
            <div class="main-content-wrap js-main-content" tabindex="0">
                <div class="page-header">
                    <label class="search-holder">
                        
                        <div class="search js-search">
                            <div class="search-input-wrap">
                                <input type="text" class="js-search-input search-input" tabindex="0" placeholder="Search Swup" aria-label="Search Swup" autocomplete="off">
                                <svg width="14" height="14" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" class="search-icon"><title>Search</title><g fill-rule="nonzero"><path d="M17.332 20.735c-5.537 0-10-4.6-10-10.247 0-5.646 4.463-10.247 10-10.247 5.536 0 10 4.601 10 10.247s-4.464 10.247-10 10.247zm0-4c3.3 0 6-2.783 6-6.247 0-3.463-2.7-6.247-6-6.247s-6 2.784-6 6.247c0 3.464 2.7 6.247 6 6.247z"/><path d="M11.672 13.791L.192 25.271 3.02 28.1 14.5 16.62z"/></g></svg>
                            </div>
                            <div class="js-search-results search-results-wrap"></div>
                        </div>
                        
                        
                        <ul class="list-style-none text-small mt-md-1 mb-md-1 pb-4 pb-md-0 js-aux-nav aux-nav">
                            <li class="d-inline-block my-0 mr-2">
                                <a class="github-button" href="https://github.com/gmrchk/swup" data-icon="octicon-star" data-show-count="true" data-size="medium" aria-label="Star gmrchk/swup on GitHub">Star</a>
                            </li>
                        </ul>
                        
                    </label>
                </div>
                <div class="main-content">
                    <div id="main-content" class="page-content" role="main">
                        <h1 id="swup-ga-plugin">Swup GA plugin</h1>
<p>Google Analytics plugin triggers pageview event on <code class="highlighter-rouge">contentReplaced</code> (on each page change). 
Note that this event is not triggered at the first load, so the first page view must be triggered elsewhere. 
However, page view event is by default triggered in <a href="https://developers.google.com/analytics/devguides/collection/analyticsjs/#the_javascript_tracking_snippet">Javascripts tracking snippet</a> used for embedding GA.</p>

<p>Simplified code run by this plugin on <code class="highlighter-rouge">contentReplaced</code> event:</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">window</span><span class="p">.</span><span class="nx">ga</span><span class="p">(</span><span class="s1">'set'</span><span class="p">,</span> <span class="s1">'title'</span><span class="p">,</span> <span class="nb">document</span><span class="p">.</span><span class="nx">title</span><span class="p">);</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">ga</span><span class="p">(</span><span class="s1">'set'</span><span class="p">,</span> <span class="s1">'page'</span><span class="p">,</span> <span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">pathname</span> <span class="o">+</span> <span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">search</span><span class="p">);</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">ga</span><span class="p">(</span><span class="s1">'send'</span><span class="p">,</span> <span class="s1">'pageview'</span><span class="p">);</span>
</code></pre></div></div>

<h2 id="instalation">Instalation</h2>
<p>This plugin can be installed with npm</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm <span class="nb">install</span> @swup/ga-plugin
</code></pre></div></div>

<p>and included with import</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>import SwupGaPlugin from <span class="s1">'@swup/ga-plugin'</span><span class="p">;</span>
</code></pre></div></div>

<p>or included from the dist folder</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"./dist/SwupGaPlugin.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre></div></div>

<h2 id="usage">Usage</h2>

<p>To run this plugin, include an instance in the swup options.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">swup</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Swup</span><span class="p">({</span>
  <span class="na">plugins</span><span class="p">:</span> <span class="p">[</span><span class="k">new</span> <span class="nx">SwupGaPlugin</span><span class="p">()]</span>
<span class="p">});</span>
</code></pre></div></div>


                        
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>